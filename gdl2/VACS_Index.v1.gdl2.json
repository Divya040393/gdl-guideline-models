{
  "id": "VACS_Index.v0",
  "gdl_version": "2.0",
  "concept": "gt0001",
  "language": {
    "original_language": "ISO_639-1::en"
  },
  "description": {
    "original_author": {
      "date": "2021-02-16",
      "name": "Emma Malm",
      "organisation": "Cambio CDS",
      "email": "emma.snygg@hotmail.com"
    },
    "lifecycle_state": "Initial",
    "details": {
      "en": {
        "id": "en",
        "purpose": "To calculate the total sum for the VACS index.",
        "keywords": [
          "vacs",
          "hiv",
          "hcv",
          "veterans",
          "mortality",
          "aging",
          "cohort"
        ],
        "use": "Use to estimate the risk of 5-year all-cause mortality in patients with HIV and/or HCV. The score is calculated by adding the selected risk factors.",
        "misuse": "",
        "copyright": "Cambio CDS"
      }
    },
    "other_details": {
      "references": "1. Tate JP, Justice AC, Hughes MD, Bonnet F, Reiss P, Mocroft A, Nattermann J, Lampe FC, Bucher HC, Sterling TR, Crane HM, Kitahata MM, May M, Sterne JA. An internationally generalizable risk index for mortality after one year of antiretroviral therapy. AIDS. 2013 Feb 20;27(4):563-72. doi: 10.1097/QAD.0b013e32835b8c7f. PMID: 23095314; PMCID: PMC4283204."
    }
  },
  "definition": {
    "data_bindings": {
      "gt0002": {
        "id": "gt0002",
        "model_id": "openEHR-EHR-OBSERVATION.vacs_index.v0",
        "template_id": "openEHR-EHR-OBSERVATION.vacs_index.v0",
        "type": "INPUT",
        "elements": {
          "gt0004": {
            "id": "gt0004",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0009]"
          },
          "gt0005": {
            "id": "gt0005",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0016]"
          },
          "gt0006": {
            "id": "gt0006",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0020]"
          },
          "gt0007": {
            "id": "gt0007",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0025]"
          },
          "gt0008": {
            "id": "gt0008",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0029]"
          },
          "gt0009": {
            "id": "gt0009",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0034]"
          }
        }
      },
      "gt0010": {
        "id": "gt0010",
        "model_id": "openEHR-EHR-OBSERVATION.vacs_index.v0",
        "template_id": "openEHR-EHR-OBSERVATION.vacs_index.v0",
        "type": "OUTPUT",
        "elements": {
          "gt0011": {
            "id": "gt0011",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0037]"
          },
          "gt0015": {
            "id": "gt0015",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0004]/items[at0005]"
          }
        }
      },
      "gt0013": {
        "id": "gt0013",
        "model_id": "openEHR-EHR-OBSERVATION.basic_demographic.v1",
        "template_id": "openEHR-EHR-OBSERVATION.basic_demographic.v1",
        "type": "INPUT",
        "elements": {
          "gt0014": {
            "id": "gt0014",
            "path": "/data[at0001]/events[at0002]/data[at0003]/items[at0013]"
          }
        }
      }
    },
    "rules": {
      "gt0018": {
        "id": "gt0018",
        "priority": 4,
        "when": [
          "$gt0014|Age|>=65,a"
        ],
        "then": [
          "$gt0015|Age|=27|local::at0008|>= 65 years|"
        ]
      },
      "gt0017": {
        "id": "gt0017",
        "priority": 3,
        "when": [
          "$gt0014|Age|>=50,a",
          "$gt0014|Age|<=64,a"
        ],
        "then": [
          "$gt0015|Age|=12|local::at0007|50 - 64 years|"
        ]
      },
      "gt0016": {
        "id": "gt0016",
        "priority": 2,
        "when": [
          "$gt0014|Age|<50,a"
        ],
        "then": [
          "$gt0015|Age|=0|local::at0006|< 50 years|"
        ]
      },
      "gt0012": {
        "id": "gt0012",
        "priority": 1,
        "when": [
          "$gt0015|Age|!=null",
          "$gt0004|CD4 count|!=null",
          "$gt0005|HIV-1 RNA|!=null",
          "$gt0006|Hemoglobin|!=null",
          "$gt0007|FIB-4 Index|!=null",
          "$gt0008|eGFR|!=null",
          "$gt0009|Hepatitis C co-infection|!=null"
        ],
        "then": [
          "$gt0011|Total score|.magnitude=$gt0015.value+$gt0004.value+$gt0005.value+$gt0006.value+$gt0007.value+$gt0008.value+$gt0009.value"
        ]
      }
    }
  },
  "ontology": {
    "term_definitions": {
      "en": {
        "id": "en",
        "terms": {
          "gt0001": {
            "id": "gt0001",
            "text": "VACS Index",
            "description": "The Veterans Aging Cohort Study (VACS) index estimates risk of 5-year all-cause mortality in patients with HIV and/or HCV."
          },
          "gt0004": {
            "id": "gt0004",
            "text": "CD4 count",
            "description": ""
          },
          "gt0005": {
            "id": "gt0005",
            "text": "HIV-1 RNA",
            "description": ""
          },
          "gt0006": {
            "id": "gt0006",
            "text": "Hemoglobin",
            "description": ""
          },
          "gt0007": {
            "id": "gt0007",
            "text": "FIB-4 Index",
            "description": "Fibrosis-4 Index for Liver Fibrosis"
          },
          "gt0008": {
            "id": "gt0008",
            "text": "eGFR",
            "description": "Estimated Golmerular Filtration Rate"
          },
          "gt0009": {
            "id": "gt0009",
            "text": "Hepatitis C co-infection",
            "description": ""
          },
          "gt0011": {
            "id": "gt0011",
            "text": "Total score",
            "description": ""
          },
          "gt0012": {
            "id": "gt0012",
            "text": "Calculate VACS index"
          },
          "gt0014": {
            "id": "gt0014",
            "text": "Age",
            "description": "Age in years, and for babies: months, weeks or days"
          },
          "gt0015": {
            "id": "gt0015",
            "text": "Age",
            "description": ""
          },
          "gt0016": {
            "id": "gt0016",
            "text": "Set Age range < 50"
          },
          "gt0017": {
            "id": "gt0017",
            "text": "Set Age range 50-64"
          },
          "gt0018": {
            "id": "gt0018",
            "text": "Set Age range >= 65"
          }
        }
      }
    }
  }
}